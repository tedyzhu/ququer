# ğŸš¨ ç´§æ€¥è·¯å¾„ä¿®å¤æŒ‡å—

## ğŸ“‹ é—®é¢˜æè¿°

ç”¨æˆ·åœ¨å¯åŠ¨åº”ç”¨æ—¶é‡åˆ°ä»¥ä¸‹é”™è¯¯ï¼š
```
module 'app/utils/resource-manager.js' is not defined, require args is '../../utils/resource-manager.js'
```

è¿™æ˜¯ç”±äºæ¨¡å—è·¯å¾„å¼•ç”¨é”™è¯¯å¯¼è‡´çš„å¯åŠ¨å¤±è´¥ã€‚

## ğŸ”§ å·²æ‰§è¡Œçš„ä¿®å¤

### 1. è·¯å¾„ä¿®å¤
- âœ… ä¿®æ­£äº† `app/pages/chat/chat.js` ä¸­çš„æ¨¡å—å¼•ç”¨è·¯å¾„
- âœ… ä¿®æ­£äº† `app/pages/home/home.js` ä¸­çš„ç¼–ç æ¨¡å—è·¯å¾„

### 2. æ­£ç¡®çš„è·¯å¾„æ˜ å°„
```javascript
// âŒ é”™è¯¯è·¯å¾„
const ResourceManager = require('../../utils/resource-manager.js');

// âœ… æ­£ç¡®è·¯å¾„  
const ResourceManager = require('../../../utils/resource-manager.js');
```

### 3. è·¯å¾„è§£é‡Š
ä» `app/pages/chat/chat.js` åˆ° `utils/resource-manager.js`ï¼š
```
app/pages/chat/chat.js
â”œâ”€â”€ ../ â†’ app/pages/
â”œâ”€â”€ ../ â†’ app/
â”œâ”€â”€ ../ â†’ é¡¹ç›®æ ¹ç›®å½•
â””â”€â”€ utils/resource-manager.js
```

## ğŸš¨ ç´§æ€¥å¯åŠ¨è§£å†³æ–¹æ¡ˆ

å¦‚æœåº”ç”¨ä»ç„¶æ— æ³•å¯åŠ¨ï¼Œè¯·åœ¨å¾®ä¿¡å°ç¨‹åºå¼€å‘è€…å·¥å…·æ§åˆ¶å°è¿è¡Œï¼š

```javascript
// ğŸš¨ ç´§æ€¥ä¿®å¤è„šæœ¬
require('./emergency-system-fix.js');
```

è¯¥è„šæœ¬å°†ï¼š
- âœ… åˆ›å»ºç®€åŒ–çš„èµ„æºç®¡ç†å™¨
- âœ… æ·»åŠ åŸºç¡€çš„é”™è¯¯å¤„ç†
- âœ… å¢å¼ºé¡µé¢å¸è½½æ¸…ç†
- âœ… æä¾›ä¸´æ—¶çš„å…¼å®¹æ€§æ”¯æŒ

## ğŸ” é—®é¢˜æ’æŸ¥æ­¥éª¤

### 1. æ£€æŸ¥æ–‡ä»¶ç»“æ„
ç¡®è®¤ä»¥ä¸‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼š
```
ququer/
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ resource-manager.js     âœ… åº”å­˜åœ¨
â”‚   â”œâ”€â”€ error-handler.js        âœ… åº”å­˜åœ¨
â”‚   â”œâ”€â”€ logger.js              âœ… åº”å­˜åœ¨
â”‚   â”œâ”€â”€ performance-monitor.js  âœ… åº”å­˜åœ¨
â”‚   â””â”€â”€ system-fix.js          âœ… åº”å­˜åœ¨
â””â”€â”€ app/
    â””â”€â”€ pages/
        â””â”€â”€ chat/
            â””â”€â”€ chat.js         âœ… åº”å­˜åœ¨
```

### 2. éªŒè¯è·¯å¾„å¼•ç”¨
åœ¨ `app/pages/chat/chat.js` ä¸­ç¡®è®¤ï¼š
```javascript
// åº”è¯¥æ˜¯è¿™æ ·çš„è·¯å¾„
const ResourceManager = require('../../../utils/resource-manager.js');
const ErrorHandler = require('../../../utils/error-handler.js');
```

### 3. æµ‹è¯•æ¨¡å—åŠ è½½
åœ¨æ§åˆ¶å°æµ‹è¯•ï¼š
```javascript
// æµ‹è¯•æ˜¯å¦èƒ½æ­£ç¡®åŠ è½½æ¨¡å—
try {
  const ResourceManager = require('./utils/resource-manager.js');
  console.log('âœ… ResourceManager åŠ è½½æˆåŠŸ');
} catch (error) {
  console.error('âŒ ResourceManager åŠ è½½å¤±è´¥:', error);
}
```

## ğŸ› ï¸ å®Œæ•´ä¿®å¤æ–¹æ¡ˆ

å¦‚æœç´§æ€¥ä¿®å¤æˆåŠŸï¼Œå»ºè®®åç»­é‡‡ç”¨å®Œæ•´ä¿®å¤ï¼š

### 1. åº”ç”¨å®Œæ•´ç³»ç»Ÿä¿®å¤
```javascript
// åœ¨èŠå¤©é¡µé¢å¯ç”¨å®Œæ•´ä¿®å¤
const SystemFix = require('../../../utils/system-fix.js');
SystemFix.enableForPage(this);
```

### 2. è¿è¡Œç³»ç»ŸéªŒè¯
```javascript
// éªŒè¯ä¿®å¤æ•ˆæœ
require('./system-verification.js');
```

### 3. ç›‘æ§è¿è¡ŒçŠ¶æ€
```javascript
// ç›‘æ§ç³»ç»ŸçŠ¶æ€
const report = SystemFix.getSystemReport();
console.log('ç³»ç»ŸçŠ¶æ€:', report);
```

## ğŸ“ å¦‚æœé—®é¢˜æŒç»­

### ä¸´æ—¶å›é€€æ–¹æ¡ˆ
å¦‚æœä¿®å¤åä»æœ‰é—®é¢˜ï¼Œå¯ä»¥ä¸´æ—¶ç§»é™¤ç³»ç»Ÿä¿®å¤å¼•ç”¨ï¼š

1. **æ³¨é‡Šæ‰æœ‰é—®é¢˜çš„å¼•ç”¨**ï¼š
```javascript
// ä¸´æ—¶æ³¨é‡Šæ‰è¿™äº›è¡Œ
// const ResourceManager = require('../../../utils/resource-manager.js');
// const ErrorHandler = require('../../../utils/error-handler.js');
```

2. **ä½¿ç”¨åŸå§‹çš„é¡µé¢æ¸…ç†**ï¼š
```javascript
onUnload: function() {
  // åŸå§‹çš„æ¸…ç†é€»è¾‘
  if (this.messageWatcher) {
    this.messageWatcher.close();
    this.messageWatcher = null;
  }
  // ... å…¶ä»–æ¸…ç†
}
```

### é‡æ–°éƒ¨ç½²ç­–ç•¥
1. ç¡®ä¿æ‰€æœ‰ `utils/` æ–‡ä»¶éƒ½å·²æ­£ç¡®åˆ›å»º
2. éªŒè¯æ‰€æœ‰è·¯å¾„å¼•ç”¨çš„æ­£ç¡®æ€§
3. åˆ†æ­¥éª¤å¯ç”¨ç³»ç»Ÿä¿®å¤åŠŸèƒ½
4. é€ä¸ªéªŒè¯æ¯ä¸ªä¿®å¤ç»„ä»¶

## ğŸ¯ é¢„æœŸç»“æœ

ä¿®å¤å®Œæˆåï¼Œåº”è¯¥çœ‹åˆ°ï¼š
- âœ… åº”ç”¨æ­£å¸¸å¯åŠ¨ï¼Œæ— æ¨¡å—åŠ è½½é”™è¯¯
- âœ… èŠå¤©é¡µé¢èƒ½å¤Ÿæ­£å¸¸è®¿é—®
- âœ… æ§åˆ¶å°æ˜¾ç¤ºç³»ç»Ÿä¿®å¤ç›¸å…³æ—¥å¿—
- âœ… å†…å­˜ç®¡ç†å’Œé”™è¯¯å¤„ç†æ­£å¸¸å·¥ä½œ

## ğŸ“Š ä¿®å¤éªŒè¯

è¿è¡Œä»¥ä¸‹å‘½ä»¤éªŒè¯ä¿®å¤æ•ˆæœï¼š
```javascript
// ğŸ” å®Œæ•´éªŒè¯
require('./system-verification.js');

// ğŸ” å¿«é€Ÿæ£€æŸ¥
const page = getCurrentPages()[getCurrentPages().length - 1];
console.log('èµ„æºç®¡ç†å™¨:', !!page.resourceManager);
console.log('é”™è¯¯å¤„ç†å™¨:', !!page.handleError);
```

æœŸæœ›è¾“å‡ºï¼š
```
âœ… å†…å­˜ç®¡ç†: passed
âœ… é”™è¯¯å¤„ç†: passed  
âœ… æ€§èƒ½ä¼˜åŒ–: passed
ğŸ“Š æ€»ä½“å¾—åˆ†: â‰¥85åˆ†
```

---

**ç´§æ€¥è”ç³»**ï¼šå¦‚æœæ‰€æœ‰æ–¹æ¡ˆéƒ½æ— æ•ˆï¼Œè¯·æä¾›å®Œæ•´çš„é”™è¯¯æ—¥å¿—ä»¥è¿›è¡Œè¿›ä¸€æ­¥è¯Šæ–­ã€‚