<!--pages/test-share-fix/test-share-fix.wxml-->
<view class="container">
  <view class="header">
    <text class="title">ğŸ”§ åˆ†äº«è¿æ¥ä¿®å¤æµ‹è¯•</text>
    <text class="subtitle">éªŒè¯åˆ†äº«é‚€è¯·æµç¨‹æ˜¯å¦æ­£å¸¸å·¥ä½œ</text>
  </view>

  <view class="test-controls">
    <button class="btn primary" bindtap="retestShareFix">é‡æ–°æµ‹è¯•</button>
    <button class="btn secondary" bindtap="simulateShare">æ¨¡æ‹Ÿåˆ†äº«</button>
  </view>

  <view class="test-results">
    <view class="result-header">
      <text>æµ‹è¯•æ—¥å¿—</text>
    </view>
    <scroll-view class="log-container" scroll-y="true" scroll-top="{{logs.length * 40}}">
      <view 
        class="log-item {{item.indexOf('âœ…') >= 0 ? 'success' : item.indexOf('âŒ') >= 0 ? 'error' : item.indexOf('ğŸ‰') >= 0 ? 'celebration' : ''}}"
        wx:for="{{logs}}" 
        wx:key="index"
      >
        {{item}}
      </view>
    </scroll-view>
  </view>

  <view class="test-summary" wx:if="{{shareTestResults.newChat}}">
    <view class="summary-header">
      <text>åˆ†äº«è·¯å¾„å¯¹æ¯”</text>
    </view>
    <view class="path-item">
      <text class="path-label">æ–°ç‰ˆèŠå¤©é¡µé¢:</text>
      <text class="path-value">{{shareTestResults.newChat}}</text>
    </view>
    <view class="path-item">
      <text class="path-label">è€ç‰ˆèŠå¤©é¡µé¢:</text>
      <text class="path-value">{{shareTestResults.oldChat}}</text>
    </view>
    <view class="path-item">
      <text class="path-label">é¦–é¡µåˆ†äº«:</text>
      <text class="path-value">{{shareTestResults.home}}</text>
    </view>
  </view>
</view> 